// Last modified by deforce on 11-14-2007
#include <mudlib.h>
inherit CMD;
inherit M_EXIT;

private mapping translations = ([ "n" : "north", "s" : "south", "e" : "east", "w" : "west", "ne" : "northeast", "nw" : "northwest", "se" : "southeast", "sw" : "southwest", "u" : "up", "d" : "down" ]);

private void main(string direction)
{
   if (direction)
   {
      object dir_room;

      if (translations[direction]) { direction = translations[direction]; }

      dir_room = environment(this_body())->query_exit_destination(direction);

      if (dir_room && ((member_array(direction, environment(this_body())->query_hidden_exits()) == -1) || wizardp(this_body())))
      {
         string exits = dir_room->show_exits();

         out("%^ROOM_SHORT%^" + dir_room->short() + "%^RESET%^\n");

         if (exits) { out("Exits: %^ROOM_EXIT%^" + exits + "%^RESET%^"); }
         else { out("No exits."); }

         out("\n\n" + dir_room->long());
      }
      else { out("You don't see anything in that direction.\n"); }
   }
   else { out("Usage: peer <exit>\n"); }
}